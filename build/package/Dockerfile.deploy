FROM golang:1.22-alpine as build

COPY . /workspace
WORKDIR /workspace/cmd/api
RUN go build -o file-server

FROM alpine:3.20.3

COPY --from=build /workspace/cmd/api/file-server /opt/file-server/api
CMD ["/opt/file-server/api"]
